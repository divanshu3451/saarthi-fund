<div class="dashboard">
  <h1>Welcome, {{ auth.user()?.name }}!</h1>
  
  @if (auth.isAdmin()) {
    <section class="admin-stats">
      <h2>Fund Overview</h2>
      <div class="stats-grid">
        <div class="stat-card">
          <span class="stat-label">Total Pool</span>
          <span class="stat-value">{{ adminStats()?.total_pool | currency:'INR' }}</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Total Loaned</span>
          <span class="stat-value">{{ adminStats()?.total_loaned | currency:'INR' }}</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Available Balance</span>
          <span class="stat-value">{{ adminStats()?.available_balance | currency:'INR' }}</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Active Loans</span>
          <span class="stat-value">{{ adminStats()?.active_loans }}</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Pending Payments</span>
          <span class="stat-value">{{ adminStats()?.pending_payments }}</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">Active Members</span>
          <span class="stat-value">{{ adminStats()?.members?.['active'] || 0 }}</span>
        </div>
      </div>
    </section>
  }
  
  <section class="my-summary">
    <h2>My Summary</h2>
    <div class="stats-grid">
      <div class="stat-card">
        <span class="stat-label">My Total Deposits</span>
        <span class="stat-value">{{ depositSummary()?.total_deposits | currency:'INR' }}</span>
      </div>
      <div class="stat-card">
        <span class="stat-label">Current Month</span>
        <span class="stat-value">Month {{ depositSummary()?.current_month || 0 }}</span>
      </div>
      <div class="stat-card">
        <span class="stat-label">Member Since</span>
        <span class="stat-value">{{ depositSummary()?.joined_at | date:'mediumDate' }}</span>
      </div>
    </div>
  </section>
  
  <section class="eligibility">
    <h2>Loan Eligibility</h2>
    <div class="stats-grid">
      <div class="stat-card" [class.eligible]="eligibility()?.eligible" [class.not-eligible]="!eligibility()?.eligible">
        <span class="stat-label">Status</span>
        <span class="stat-value">{{ eligibility()?.eligible ? 'Eligible' : 'Not Eligible' }}</span>
      </div>
      <div class="stat-card">
        <span class="stat-label">Max Eligible Amount</span>
        <span class="stat-value">{{ eligibility()?.maxEligible | currency:'INR' }}</span>
      </div>
      <div class="stat-card">
        <span class="stat-label">Active Loans</span>
        <span class="stat-value">{{ eligibility()?.activeLoans }} / {{ eligibility()?.maxActiveLoans }}</span>
      </div>
      <div class="stat-card">
        <span class="stat-label">Outstanding</span>
        <span class="stat-value">{{ eligibility()?.outstanding | currency:'INR' }}</span>
      </div>
    </div>
    
    @if (eligibility()?.eligible) {
      <a routerLink="/loans" class="btn-primary">Request Loan</a>
    }
  </section>
  
  <section class="quick-actions">
    <h2>Quick Actions</h2>
    <div class="actions-grid">
      <a routerLink="/deposits" class="action-card">
        <span class="action-icon">üí∞</span>
        <span class="action-label">View Deposits</span>
      </a>
      <a routerLink="/loans" class="action-card">
        <span class="action-icon">üìã</span>
        <span class="action-label">View Loans</span>
      </a>
      @if (auth.isAdmin()) {
        <a routerLink="/admin" class="action-card">
          <span class="action-icon">‚öôÔ∏è</span>
          <span class="action-label">Admin Panel</span>
        </a>
      }
    </div>
  </section>
</div>
